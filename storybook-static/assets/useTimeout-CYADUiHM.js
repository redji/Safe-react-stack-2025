import{r as c,H as p,e as d}from"./iframe-Bwy0Guc_.js";function b(t){const e=c.useRef(t);return p(()=>{e.current=t}),c.useRef((...r)=>(0,e.current)(...r)).current}function O(...t){const e=c.useRef(void 0),r=c.useCallback(n=>{const a=t.map(u=>{if(u==null)return null;if(typeof u=="function"){const i=u,f=i(n);return typeof f=="function"?f:()=>{i(null)}}return u.current=n,()=>{u.current=null}});return()=>{a.forEach(u=>u?.())}},t);return c.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}function m(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},o(t,e)}function R(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}const T=d.createContext(null),l={};function h(t,e){const r=c.useRef(l);return r.current===l&&(r.current=t(e)),r}const y=[];function E(t){c.useEffect(t,y)}class s{static create(){return new s}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function _(){const t=h(s.create).current;return E(t.disposeEffect),t}export{T,R as _,b as a,m as b,h as c,_ as d,O as u};
